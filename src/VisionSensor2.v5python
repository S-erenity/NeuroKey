{"mode":"Text","textContent":"#region VEXcode Generated Robot Configuration\nfrom vex import *\nimport urandom\n\n# Brain should be defined by default\nbrain=Brain()\n\n# Robot configuration code\nLeftSide_motor_a = Motor(Ports.PORT1, GearSetting.RATIO_18_1, False)\nLeftSide_motor_b = Motor(Ports.PORT2, GearSetting.RATIO_18_1, False)\nLeftSide = MotorGroup(LeftSide_motor_a, LeftSide_motor_b)\nRightSide_motor_a = Motor(Ports.PORT9, GearSetting.RATIO_18_1, False)\nRightSide_motor_b = Motor(Ports.PORT10, GearSetting.RATIO_18_1, False)\nRightSide = MotorGroup(RightSide_motor_a, RightSide_motor_b)\ncontroller_1 = Controller(PRIMARY)\narmMotor = Motor(Ports.PORT5, GearSetting.RATIO_18_1, False)\nclawMotor = Motor(Ports.PORT12, GearSetting.RATIO_18_1, False)\n\n# vex-vision-config:begin\nVision1 = Vision(Ports.PORT20, 50)\n# vex-vision-config:end\n\n\n# wait for rotation sensor to fully initialize\nwait(30, MSEC)\n#endregion VEXcode Generated Robot Configuration\n\n\n# ===============================================\n#      AUTO-ALIGN CONSTANTS (FIXED)\n# ===============================================\nSIG_1 = 1  # Vision signature (change if needed)\n\nTARGET_CENTER = 158          # Vision sensor center (316px / 2)\nCENTER_TOLERANCE = 10        # How close to center before stopping\nALIGN_KP = 0.5               # Proportional turning gain\nMAX_TURN = 40                # Maximum turn speed (%)\n\n\n# ===============================================\n#    Adjustable Speed Limit for Driving\n# ===============================================\nDRIVE_SPEED_LIMIT = 100\n\n\n\n# ===============================================\n# ============= MAIN CONTROL LOOP ===============\n# ===============================================\nwhile True:\n\n    # ===============================================\n    # ============== AUTO-ALIGN (X) ==================\n    # ===============================================\n    if controller_1.buttonX.pressing():\n\n        Vision1.take_snapshot(SIG_1)\n\n        # If no object detected → stop turning\n        if not Vision1.largest_object.exists:\n            LeftSide.stop()\n            RightSide.stop()\n            wait(5, MSEC)\n            continue\n\n        obj = Vision1.largest_object\n        error = obj.centerX - TARGET_CENTER\n\n        # If centered enough → stop\n        if abs(error) < CENTER_TOLERANCE:\n            LeftSide.stop()\n            RightSide.stop()\n            wait(5, MSEC)\n            continue\n\n        # Proportional turn calculation\n        turn_power = error * ALIGN_KP\n        turn_power = max(min(turn_power, MAX_TURN), -MAX_TURN)\n\n        # Rotate to align\n        LeftSide.spin(FORWARD, turn_power, PERCENT)\n        RightSide.spin(REVERSE, turn_power, PERCENT)\n\n        wait(5, MSEC)\n        continue  # Skip manual control while aligning\n\n\n    # ===============================================\n    # =============== MANUAL DRIVING =================\n    # ===============================================\n    left_input  = controller_1.axis3.position() * (DRIVE_SPEED_LIMIT / 100)\n    right_input = controller_1.axis2.position() * (DRIVE_SPEED_LIMIT / 100)\n\n    LeftSide.set_velocity(left_input, PERCENT)\n    RightSide.set_velocity(right_input, PERCENT)\n    LeftSide.spin(FORWARD)\n    RightSide.spin(FORWARD)\n\n\n    # ===============================================\n    # ================= ARM CONTROL =================\n    # ===============================================\n    if controller_1.buttonL1.pressing():\n        armMotor.spin(FORWARD, 50, PERCENT)\n    elif controller_1.buttonR1.pressing():\n        armMotor.spin(REVERSE, 50, PERCENT)\n    else:\n        armMotor.stop(HOLD)\n\n\n    # ===============================================\n    # ================= CLAW CONTROL =================\n    # ===============================================\n    if controller_1.buttonL2.pressing():\n        clawMotor.spin(FORWARD, 100, PERCENT)   # OPEN FAST\n    elif controller_1.buttonR2.pressing():\n        clawMotor.spin(REVERSE, 100, PERCENT)   # CLOSE FAST\n    else:\n        clawMotor.stop(HOLD)\n\n\n    wait(5, MSEC)\n","textLanguage":"python","rconfig":[{"port":[1,2],"name":"LeftSide","customName":true,"deviceType":"MotorGroup","deviceClass":"motor_group","setting":{"fwd":"forward","rev":"reverse","gear":"ratio18_1","motor_a_reversed":"false","motor_b_reversed":"false"},"triportSourcePort":22},{"port":[9,10],"name":"RightSide","customName":true,"deviceType":"MotorGroup","deviceClass":"motor_group","setting":{"fwd":"forward","rev":"reverse","gear":"ratio18_1","motor_a_reversed":"false","motor_b_reversed":"false"},"triportSourcePort":22},{"port":[],"name":"controller_1","customName":false,"deviceType":"Controller","deviceClass":"controller","setting":{"left":"","leftDir":"false","right":"","rightDir":"false","upDown":"","upDownDir":"false","xB":"","xBDir":"false","drive":"none","id":"primary"},"triportSourcePort":22},{"port":[5],"name":"armMotor","customName":true,"deviceType":"Motor","deviceClass":"motor","setting":{"reversed":"false","fwd":"forward","rev":"reverse","gear":"ratio18_1","id":"partner"},"triportSourcePort":22},{"port":[12],"name":"clawMotor","customName":true,"deviceType":"Motor","deviceClass":"motor","setting":{"reversed":"false","fwd":"forward","rev":"reverse","gear":"ratio18_1","id":"partner"},"triportSourcePort":22},{"port":[20],"name":"Vision1","customName":true,"deviceType":"Vision","deviceClass":"vision","setting":{"config":"{\"config\":{\"brightness\":50,\"signatures\":[{\"name\":\"SIG_1\",\"parameters\":{\"uMin\":0,\"uMax\":0,\"uMean\":0,\"vMin\":0,\"vMax\":0,\"vMean\":0,\"rgb\":0,\"type\":0,\"name\":\"SIG_1\"},\"range\":2.5},{\"name\":\"SIG_2\",\"parameters\":{\"uMin\":0,\"uMax\":0,\"uMean\":0,\"vMin\":0,\"vMax\":0,\"vMean\":0,\"rgb\":0,\"type\":0,\"name\":\"SIG_2\"},\"range\":2.5},{\"name\":\"SIG_3\",\"parameters\":{\"uMin\":0,\"uMax\":0,\"uMean\":0,\"vMin\":0,\"vMax\":0,\"vMean\":0,\"rgb\":0,\"type\":0,\"name\":\"SIG_3\"},\"range\":2.5},{\"name\":\"SIG_4\",\"parameters\":{\"uMin\":0,\"uMax\":0,\"uMean\":0,\"vMin\":0,\"vMax\":0,\"vMean\":0,\"rgb\":0,\"type\":0,\"name\":\"SIG_4\"},\"range\":2.5},{\"name\":\"SIG_5\",\"parameters\":{\"uMin\":0,\"uMax\":0,\"uMean\":0,\"vMin\":0,\"vMax\":0,\"vMean\":0,\"rgb\":0,\"type\":0,\"name\":\"SIG_5\"},\"range\":2.5},{\"name\":\"SIG_6\",\"parameters\":{\"uMin\":0,\"uMax\":0,\"uMean\":0,\"vMin\":0,\"vMax\":0,\"vMean\":0,\"rgb\":0,\"type\":0,\"name\":\"SIG_6\"},\"range\":2.5},{\"name\":\"SIG_7\",\"parameters\":{\"uMin\":0,\"uMax\":0,\"uMean\":0,\"vMin\":0,\"vMax\":0,\"vMean\":0,\"rgb\":0,\"type\":0,\"name\":\"SIG_7\"},\"range\":2.5}],\"codes\":[]}}","isConfigured":"false","id":"partner"},"triportSourcePort":22}],"slot":0,"platform":"V5","sdkVersion":"20220215.18.00.00","appVersion":"2.3.1","fileFormat":"1.0.1","icon":"","targetBrainGen":"First","target":"Physical"}