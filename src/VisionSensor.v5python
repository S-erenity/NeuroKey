{"mode":"Text","textContent":"#region VEXcode Generated Robot Configuration\nfrom vex import *\nimport urandom\n\n# Brain should be defined by default\nbrain=Brain()\n\n# Robot configuration code\nLeftSide_motor_a = Motor(Ports.PORT1, GearSetting.RATIO_18_1, False)\nLeftSide_motor_b = Motor(Ports.PORT2, GearSetting.RATIO_18_1, False)\nLeftSide = MotorGroup(LeftSide_motor_a, LeftSide_motor_b)\n\nRightSide_motor_a = Motor(Ports.PORT9, GearSetting.RATIO_18_1, False)\nRightSide_motor_b = Motor(Ports.PORT10, GearSetting.RATIO_18_1, False)\nRightSide = MotorGroup(RightSide_motor_a, RightSide_motor_b)\n\ncontroller_1 = Controller(PRIMARY)\narmMotor = Motor(Ports.PORT5, GearSetting.RATIO_18_1, False)\nclawMotor = Motor(Ports.PORT12, GearSetting.RATIO_18_1, False)\n\n# --- Vision Sensor on PORT20 (Named Vision1) ---\nVision1 = Vision(Ports.PORT20)\n\n# --- Example object signature (edit as needed) ---\nSIG_1 = Signature(1, 4500, 6500, 5500, 200, 900, 550, 3.0)\nVision1.set_signature(SIG_1)\n\n# Vision alignment constants\nTARGET_CENTER = 158              # Pixel center of vision sensor\nALIGN_KP = 0.25                  # Turn aggressiveness\nMAX_TURN = 40                    # Max turn speed\nCENTER_TOLERANCE = 10            # \"Close enough\" threshold\n\nwait(30, MSEC)\n#endregion VEXcode Generated Robot Configuration\n\n\n# --- Adjustable speed limit (percent) ---\nDRIVE_SPEED_LIMIT = 100\n\n\n# =====================================================\n# ================= MAIN CONTROL LOOP =================\n# =====================================================\nwhile True:\n\n    # =====================================================\n    # ============= AUTO-ALIGN (BUTTON X) ==================\n    # =====================================================\n    if controller_1.buttonX.pressing():\n\n        Vision1.take_snapshot(SIG_1)\n\n        # If no object is detected, stop turning\n        if not Vision1.largest_object.exists:\n            LeftSide.stop()\n            RightSide.stop()\n            wait(5, MSEC)\n            continue\n\n        # Nearest object = largest detected object\n        obj = Vision1.largest_object\n\n        # Horizontal offset from center\n        error = obj.centerX - TARGET_CENTER\n\n        # If nearly centered, stop\n        if abs(error) < CENTER_TOLERANCE:\n            LeftSide.stop()\n            RightSide.stop()\n            wait(5, MSEC)\n            continue\n\n        # Calculate turning power\n        turn_power = error * ALIGN_KP\n        turn_power = max(min(turn_power, MAX_TURN), -MAX_TURN)\n\n        # Rotate robot until centered\n        LeftSide.spin(FORWARD, turn_power, PERCENT)\n        RightSide.spin(REVERSE, turn_power, PERCENT)\n\n        wait(5, MSEC)\n        continue   # Skip manual controls while aligning\n\n\n\n    # =====================================================\n    # ================ MANUAL TANK DRIVE ==================\n    # =====================================================\n    left_input  = controller_1.axis3.position() * (DRIVE_SPEED_LIMIT / 100)\n    right_input = controller_1.axis2.position() * (DRIVE_SPEED_LIMIT / 100)\n\n    LeftSide.set_velocity(left_input, PERCENT)\n    RightSide.set_velocity(right_input, PERCENT)\n    LeftSide.spin(FORWARD)\n    RightSide.spin(FORWARD)\n\n\n    # =====================================================\n    # ================== ARM CONTROL ======================\n    # =====================================================\n    if controller_1.buttonL1.pressing():\n        armMotor.spin(FORWARD, 50, PERCENT)\n    elif controller_1.buttonR1.pressing():\n        armMotor.spin(REVERSE, 50, PERCENT)\n    else:\n        armMotor.stop(HOLD)\n\n\n    # =====================================================\n    # ================== CLAW CONTROL =====================\n    # =====================================================\n    if controller_1.buttonL2.pressing():\n        clawMotor.spin(FORWARD, 20, PERCENT)\n    elif controller_1.buttonR2.pressing():\n        clawMotor.spin(REVERSE, 20, PERCENT)\n    else:\n        clawMotor.stop(HOLD)\n\n\n    wait(5, MSEC)\n","textLanguage":"python","rconfig":[{"port":[1,2],"name":"LeftSide","customName":true,"deviceType":"MotorGroup","deviceClass":"motor_group","setting":{"fwd":"forward","rev":"reverse","gear":"ratio18_1","motor_a_reversed":"false","motor_b_reversed":"false"},"triportSourcePort":22},{"port":[9,10],"name":"RightSide","customName":true,"deviceType":"MotorGroup","deviceClass":"motor_group","setting":{"fwd":"forward","rev":"reverse","gear":"ratio18_1","motor_a_reversed":"false","motor_b_reversed":"false"},"triportSourcePort":22},{"port":[],"name":"controller_1","customName":false,"deviceType":"Controller","deviceClass":"controller","setting":{"left":"","leftDir":"false","right":"","rightDir":"false","upDown":"","upDownDir":"false","xB":"","xBDir":"false","drive":"none","id":"primary"},"triportSourcePort":22},{"port":[5],"name":"armMotor","customName":true,"deviceType":"Motor","deviceClass":"motor","setting":{"reversed":"false","fwd":"forward","rev":"reverse","gear":"ratio18_1","id":"partner"},"triportSourcePort":22},{"port":[12],"name":"clawMotor","customName":true,"deviceType":"Motor","deviceClass":"motor","setting":{"reversed":"false","fwd":"forward","rev":"reverse","gear":"ratio18_1","id":"partner"},"triportSourcePort":22},{"port":[20],"name":"Vision1","customName":true,"deviceType":"Vision","deviceClass":"vision","setting":{"config":"{\"config\":{\"brightness\":50,\"signatures\":[{\"name\":\"SIG_1\",\"parameters\":{\"uMin\":0,\"uMax\":0,\"uMean\":0,\"vMin\":0,\"vMax\":0,\"vMean\":0,\"rgb\":0,\"type\":0,\"name\":\"SIG_1\"},\"range\":2.5},{\"name\":\"SIG_2\",\"parameters\":{\"uMin\":0,\"uMax\":0,\"uMean\":0,\"vMin\":0,\"vMax\":0,\"vMean\":0,\"rgb\":0,\"type\":0,\"name\":\"SIG_2\"},\"range\":2.5},{\"name\":\"SIG_3\",\"parameters\":{\"uMin\":0,\"uMax\":0,\"uMean\":0,\"vMin\":0,\"vMax\":0,\"vMean\":0,\"rgb\":0,\"type\":0,\"name\":\"SIG_3\"},\"range\":2.5},{\"name\":\"SIG_4\",\"parameters\":{\"uMin\":0,\"uMax\":0,\"uMean\":0,\"vMin\":0,\"vMax\":0,\"vMean\":0,\"rgb\":0,\"type\":0,\"name\":\"SIG_4\"},\"range\":2.5},{\"name\":\"SIG_5\",\"parameters\":{\"uMin\":0,\"uMax\":0,\"uMean\":0,\"vMin\":0,\"vMax\":0,\"vMean\":0,\"rgb\":0,\"type\":0,\"name\":\"SIG_5\"},\"range\":2.5},{\"name\":\"SIG_6\",\"parameters\":{\"uMin\":0,\"uMax\":0,\"uMean\":0,\"vMin\":0,\"vMax\":0,\"vMean\":0,\"rgb\":0,\"type\":0,\"name\":\"SIG_6\"},\"range\":2.5},{\"name\":\"SIG_7\",\"parameters\":{\"uMin\":0,\"uMax\":0,\"uMean\":0,\"vMin\":0,\"vMax\":0,\"vMean\":0,\"rgb\":0,\"type\":0,\"name\":\"SIG_7\"},\"range\":2.5}],\"codes\":[]}}","isConfigured":"false","id":"partner"}}],"slot":0,"platform":"V5","sdkVersion":"20220215.18.00.00","appVersion":"2.3.1","fileFormat":"1.0.1","icon":"","targetBrainGen":"First","target":"Physical"}